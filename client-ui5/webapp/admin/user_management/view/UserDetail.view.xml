<mvc:View
    controllerName="user.management.controller.UserDetail"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core">
    
    <Page title="{i18n>userDetailTitle}" showNavButton="true" navButtonPress="onNavBack">
        <content>
            <ObjectHeader
                icon="sap-icon://person-placeholder"
                title="{newUser>/firstName} {newUser>/lastName}"
                number="{= ${newUser>/role_id} === 'admin' ? 'Administrador' : (${newUser>/role_id} === 'dev' ? 'Desarrollador' : 'Usuario') }"
                numberState="Information"
                intro="{newUser>/email}">
                <statuses>
                    <ObjectStatus
                        text="{= ${newUser>/is_active} ? ${i18n>active} : ${i18n>inactive}}"
                        state="{= ${newUser>/is_active} ? 'Success' : 'Error'}"
                        icon="{= ${newUser>/is_active} ? 'sap-icon://sys-enter-2' : 'sap-icon://error'}" />
                </statuses>
            </ObjectHeader>
            <core:Fragment fragmentName="user.management.view.UserForm" type="XML"/>
        </content>
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <Button text="{i18n>modify}" type="Emphasized" press="onModify" visible="{newUser>/isViewMode}"/>
                <Button text="{i18n>save}" type="Emphasized" press="onSave" visible="{= !${newUser>/isViewMode}}"/>
                <Button text="{i18n>cancel}" press="onCancel" visible="{= !${newUser>/isViewMode}}"/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>
