<mvc:View controllerName="invoice.app.controller.Shell"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core" displayBlock="true" height="100%">

    <VBox height="100%">
        <tnt:ToolHeader class="appHeader">
            <Button icon="sap-icon://menu2" type="Transparent" press="onMenuPress" visible="{ui>/menuVisible}" tooltip="Menu"/>
            <Button icon="sap-icon://nav-back" type="Transparent" press="onNavBack" visible="{ui>/backButtonVisible}" tooltip="Back"/>
            <Image src="img/delliom_logo.png" height="2rem" press="onNavHome" class="sapUiTinyMarginBegin sapUiTinyMarginEnd" densityAware="false"/>
            <Title text="Delliom Compliance" level="H3"/>
            
            <ToolbarSpacer />
            
            <SearchField width="40%" placeholder="Search" search="onSearch"/>
            
            <ToolbarSpacer />
            
            <Button icon="sap-icon://bell" type="Transparent" tooltip="Notifications">
                <customData>
                    <BadgeCustomData key="badge" value="7" visible="true" xmlns="sap.m"/>
                </customData>
            </Button>
            <Button icon="sap-icon://sys-help" type="Transparent" tooltip="Help" press="onHelpPress"/>
            <Avatar src="img/profile_pic.png" displaySize="XS" press="onProfilePress" class="sapUiTinyMarginBeginEnd"/>
        </tnt:ToolHeader>

        <tnt:ToolPage id="toolPage" sideExpanded="{ui>/shellSidebarExpanded}">
            <tnt:layoutData>
                <FlexItemData growFactor="1" baseSize="0%"/>
            </tnt:layoutData>
            <!-- Side Navigation -->
            <tnt:sideContent>
                <tnt:SideNavigation expanded="{ui>/shellSidebarExpanded}" itemSelect="onItemSelect" class="{= ${ui>/homeSidebarVisible} ? 'homeSidebar' : '' }">
                    <tnt:NavigationList>
                            <!-- Top Items -->
                            <tnt:NavigationListItem text="Home" icon="sap-icon://home" key="home" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Calendar" icon="sap-icon://calendar" key="calendar" visible="{ui>/homeSidebarVisible}"/>

                            <!-- Sections Group Header -->
                            <tnt:NavigationListItem text="Secciones" enabled="false" selectable="false" visible="{ui>/homeSidebarVisible}" class="sidebarSectionHeader sectionHeaderSeparator">
                                <tnt:customData>
                                    <core:CustomData key="key" value="secciones_header" writeToDom="true" />
                                </tnt:customData>
                            </tnt:NavigationListItem>

                            <!-- Section Items -->
                            <tnt:NavigationListItem text="eInvoice Apps" icon="sap-icon://document-text" key="nav_einvoice" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Reporting" icon="sap-icon://bar-chart" key="nav_reporting" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Statutory Reporting" icon="sap-icon://official-service" key="nav_statutory" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Global Configuration" icon="sap-icon://action-settings" key="nav_config" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Process Designer" icon="sap-icon://process" key="nav_process" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="School" icon="sap-icon://video" key="nav_school" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="Audit" icon="sap-icon://shield" key="nav_audit" visible="{ui>/homeSidebarVisible}"/>
                            <tnt:NavigationListItem text="APIs" icon="sap-icon://api" key="nav_api" visible="{ui>/homeSidebarVisible}"/>

                            <!-- Default Sidebar Items -->
                            <tnt:NavigationListItem text="Dashboard" icon="sap-icon://bbyd-dashboard" key="dashboard" visible="{ui>/shellSidebarVisible}"/>

                        <tnt:NavigationListItem text="{i18n>issueInvoices}" icon="sap-icon://create-form" expanded="false" visible="{ui>/shellSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>invoiceList}" key="issueList"/>
                            <tnt:NavigationListItem text="{i18n>createNew}" key="issueNew"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>receiptInvoices}" icon="sap-icon://inbox" expanded="false" visible="{ui>/shellSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>invoiceList}" key="receiptList"/>
                            <tnt:NavigationListItem text="{i18n>createNew}" key="receiptNew"/>
                            <tnt:NavigationListItem text="{i18n>newScanningInvoice}" key="scanInvoice"/>
                            <tnt:NavigationListItem text="{i18n>uploadExcel}" key="uploadExcel"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>catalog}" icon="sap-icon://product" expanded="false" visible="{ui>/shellSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>createItem}" key="catalogNew"/>
                            <tnt:NavigationListItem text="{i18n>itemList}" key="catalogList"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>config}" icon="sap-icon://action-settings" expanded="false" visible="{ui>/shellSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>issuers}" key="issuerManager"/>
                            <tnt:NavigationListItem text="{i18n>receivers}" key="receiverManager"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>admin}" icon="sap-icon://action-settings" expanded="false" visible="{ui>/shellSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>origins}" key="originList"/>
                            <tnt:NavigationListItem text="Gestor de Certificados" icon="sap-icon://certificate" key="certificateLayout"/>
                        </tnt:NavigationListItem>

                        <!-- Statutory Sidebar Items -->
                        <tnt:NavigationListItem text="{i18n>tile301}" icon="sap-icon://form" key="model303" visible="{ui>/statutorySidebarVisible}"/>
                        <tnt:NavigationListItem text="{i18n>tile349}" icon="sap-icon://form" key="model349" visible="{ui>/statutorySidebarVisible}"/>
                        <tnt:NavigationListItem text="{i18n>tile322}" icon="sap-icon://form" key="model322" visible="{ui>/statutorySidebarVisible}"/>

                        <!-- France Sidebar Items -->
                        <tnt:NavigationListItem text="Dashboard" icon="sap-icon://bbyd-dashboard" key="franceDashboard" visible="{ui>/franceSidebarVisible}"/>

                        <tnt:NavigationListItem text="{i18n>issueInvoices}" icon="sap-icon://create-form" expanded="false" visible="{ui>/franceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>invoiceList}" key="franceIssueList"/>
                            <tnt:NavigationListItem text="{i18n>createNew}" key="franceIssueNew"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>receiptInvoices}" icon="sap-icon://inbox" expanded="false" visible="{ui>/franceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>invoiceList}" key="franceReceiptList"/>
                            <tnt:NavigationListItem text="{i18n>createNew}" key="franceReceiptNew"/>
                            <tnt:NavigationListItem text="{i18n>newScanningInvoice}" key="franceScanInvoice"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>catalog}" icon="sap-icon://product" expanded="false" visible="{ui>/franceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>createItem}" key="franceCatalogNew"/>
                            <tnt:NavigationListItem text="{i18n>itemList}" key="franceCatalogList"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>config}" icon="sap-icon://action-settings" expanded="false" visible="{ui>/franceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>issuers}" key="franceIssuerManager"/>
                            <tnt:NavigationListItem text="{i18n>receivers}" key="franceReceiverManager"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>admin}" icon="sap-icon://action-settings" expanded="false" visible="{ui>/franceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>origins}" key="franceOriginList"/>
                        </tnt:NavigationListItem>

                        <!-- Face Sidebar Items -->
                        <tnt:NavigationListItem text="Dashboard" icon="sap-icon://bbyd-dashboard" key="faceDashboard" visible="{ui>/faceSidebarVisible}"/>

                        <tnt:NavigationListItem text="{i18n>issueInvoices}" icon="sap-icon://create-form" expanded="false" visible="{ui>/faceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>invoiceList}" key="faceIssueList"/>
                            <tnt:NavigationListItem text="{i18n>createNew}" key="faceIssueNew"/>
                        </tnt:NavigationListItem>



                        <tnt:NavigationListItem text="{i18n>catalog}" icon="sap-icon://product" expanded="false" visible="{ui>/faceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>createItem}" key="faceCatalogNew"/>
                            <tnt:NavigationListItem text="{i18n>itemList}" key="faceCatalogList"/>
                        </tnt:NavigationListItem>

                        <tnt:NavigationListItem text="{i18n>config}" icon="sap-icon://action-settings" expanded="false" visible="{ui>/faceSidebarVisible}">
                            <tnt:NavigationListItem text="{i18n>issuers}" key="faceIssuerManager"/>
                            <tnt:NavigationListItem text="{i18n>receivers}" key="faceReceiverManager"/>
                        </tnt:NavigationListItem>

                        <!-- Business Mappings Sidebar Items -->
                        <tnt:NavigationListItem text="Business Mappings" icon="sap-icon://opportunity" key="documentationXml" visible="{ui>/businessMappingsSidebarVisible}"/>

                        <!-- Help Portal Sidebar Items -->
                        <tnt:NavigationListItem text="eInvoice Apps" icon="sap-icon://grid" key="helpApps" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="Reporting" icon="sap-icon://data-analysis" key="helpReporting" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="Statutory" icon="sap-icon://official-service" key="helpStatutory" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="Global Configuration" icon="sap-icon://action-settings" key="helpConfig" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="Process Designer" icon="sap-icon://process" key="helpProcess" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="Audit" icon="sap-icon://shelf" key="helpAudit" visible="{ui>/helpSidebarVisible}"/>
                        <tnt:NavigationListItem text="APIs" icon="sap-icon://api" key="helpAPIs" visible="{ui>/helpSidebarVisible}"/>

                    </tnt:NavigationList>
                    <tnt:fixedItem>
                        <tnt:NavigationList>
                            <tnt:NavigationListItem text="Get Assistance" icon="sap-icon://sys-help" key="footer_assistance" visible="{ui>/homeSidebarVisible}" />
                            <tnt:NavigationListItem text="Feedback" icon="sap-icon://feedback" key="footer_feedback" visible="{ui>/homeSidebarVisible}" />
                            <tnt:NavigationListItem text="Legal" icon="sap-icon://official-service" key="footer_legal" visible="{ui>/homeSidebarVisible}" />
                            <tnt:NavigationListItem text="Status" icon="sap-icon://monitor-payments" key="footer_status" visible="{ui>/homeSidebarVisible}" />
                        </tnt:NavigationList>
                    </tnt:fixedItem>
                </tnt:SideNavigation>
            </tnt:sideContent>

            <!-- Main Content -->
            <tnt:mainContents>
                <App id="shellNavContainer" />
            </tnt:mainContents>
        </tnt:ToolPage>
    </VBox>
</mvc:View>
